{"version":3,"sources":["hooks/animation.ts","components/BubbleSort.tsx","hooks/useBubbleSort.ts","components/SelectSort.tsx","hooks/useSelectSort.ts","components/InsertionSort.tsx","hooks/useInsertionSort.ts","App.tsx","index.tsx"],"names":["useAnimationData","initData","speed","useState","x","setX","isStop","setIsStop","end","useRef","_endCondition","v","start","useCallback","onEnd","endCondition","current","initPosition","useEffect","requestAnimationFrame","data","BubbleSort","arr","setArr","toRight","toLeft","isEnd","index","exchange","setData","_next","useMemo","isStart","setIsStart","n","call","console","log","setTimeout","t","length","setStop","next","useBubbleSort","activeIndex","startS","d","initPositionL","initPositionR","s","style","display","alignItems","map","h","i","width","height","background","transform","margin","float","onClick","SelectSort","lock","useSelectSort","xd","InsertionSort","JSON","stringify","useInsertionSort","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5be39f8b.chunk.js","sourcesContent":["import {MutableRefObject, useCallback, useEffect, useRef, useState} from \"react\";\n\nexport const useAnimationData = (\n    initData:number,\n    speed:number,\n):any=>{\n    const [x,setX] = useState(initData);\n    const [isStop,setIsStop] = useState(true);\n    const end: MutableRefObject<(x?:number)=>void> = useRef<(x?:number)=>void>(()=>{});\n    const _endCondition: MutableRefObject<(x:number)=>boolean> = useRef<(x:number)=>boolean>((v:number)=>true);\n    const start = useCallback((\n        onEnd:(x?:number)=>void,\n        endCondition:(x:number)=>boolean\n    ):any=>{\n        setIsStop(false);\n        end.current = onEnd;\n        _endCondition.current = endCondition;\n        return initPosition;\n    },[]);\n\n    const initPosition = useCallback(()=>{\n        setX(initData)\n    },[])\n\n    useEffect(()=>{\n        if(isStop) return;\n        requestAnimationFrame(()=>{\n            if(_endCondition.current(x)) {\n                end.current(x);\n                return;\n            }\n            setX(x + speed)\n            setIsStop(false)\n        })\n        setIsStop(true)\n    },[isStop])\n\n    return {\n        data:x,\n        start\n    };\n}\n\n\n// export const useLife = (cb)=>{\n//     const [i,setI] = useState(0)\n//     const [isStop,setIsStop] = useState(false)\n//     useEffect(()=>{\n//         if(isStop){\n//             return;\n//         }\n//\n//     },[i])\n//     return {\n//\n//     }\n// }\n\n","import React, {useCallback, useState} from 'react';\nimport {useAnimationData} from '../hooks/animation'\nimport {useBubbleSort} from '../hooks/useBubbleSort'\n\nfunction BubbleSort() {\n    const [arr,setArr] = useState([3,2,6,8,7,9,1,4,5]);\n    const toRight = useAnimationData(0,10)\n    const toLeft = useAnimationData(0,-10)\n    const {\n        data,\n        setStop,\n        next\n    } = useBubbleSort(arr);\n    const { index:activeIndex,exchange } = data;\n    const startS = useCallback(()=>{\n        next((n:any, d:any)=>{\n            if(d.exchange){\n                const initPositionL = toLeft.start((x: number)=>{\n                    setArr([...d.data])\n                    initPositionL();\n                    initPositionR()\n                    n(startS)\n                },(x:number)=> {\n                    console.log('-----',x);\n                    return x === -70\n                })\n                const initPositionR = toRight.start((x: number)=>{\n\n                },(x:number)=> x === 70)\n            }else {\n                n(startS)\n            }\n        })\n    },[data.index,data.exchange,...data.data])\n    const s = useCallback(()=>{\n        setStop(false);\n        startS();\n    },[])\n    return (\n        <div>\n            <h2>冒泡排序</h2>\n            <div\n                style={{\n                    display: 'flex',\n                    alignItems: 'flex-end'\n                }}\n            >\n                {arr.map((h,i)=>{\n                    return <div style={{\n                        width: '50px',\n                        height: h * 20,\n                        background: i === activeIndex || i === activeIndex + 1 ? 'red':'yellow',\n                        transform: i === activeIndex ? `translateX(${toRight.data}px)`:i === activeIndex + 1 ? `translateX(${toLeft.data}px)`:`translateX(0px)`,\n                        margin: '0 10px',\n                        float: \"left\"\n                    }}>\n                        {/*<div>h: {h}</div>*/}\n                        <div>i: {i}</div>\n                    </div>\n                })}\n            </div>\n            <div onClick={()=>{setStop(true)}}>stop</div>\n            <div onClick={s}>start</div>\n        </div>\n    );\n}\n\nexport default BubbleSort;\n","import {useCallback, useMemo, useRef, useState} from \"react\";\n\nexport const useBubbleSort = (arr: number[])=>{\n    const isStop = useRef(true);\n    const isEnd = useRef(true);\n    const [data,setData] = useState({\n        index: 0,\n        data: [...arr],\n        exchange: false\n    });\n\n    const _next = useMemo(()=>{\n        let isStart = false;\n        const setIsStart = (v:boolean)=>{isStart = v};\n        const n = (call:any)=>{\n            setIsStart(false);\n            call();\n        }\n        return (onEnd:(x:any,y:any)=>void)=>{\n            console.log(isStop.current,'-----------------');\n            if(isStart || isStop.current) return;\n            setIsStart(true);\n            setTimeout(()=>{\n                if(data.data[data.index] > data.data[data.index + 1]){\n                    console.log('交换');\n                    isEnd.current = false;\n                    //开始数据交换\n                    let t = data.data[data.index];\n                    data.data[data.index] = data.data[data.index + 1];\n                    data.data[data.index + 1] = t;\n                    data.exchange = true;\n                    setData({...data});\n                    //交换结束，停止排序，等待回调结束\n                }else {\n                    console.log('前进');\n                    //不交换，向前移动\n                    data.exchange = false;\n                    data.index++;\n                    if(data.index === arr.length - 1){\n                        if(isEnd.current){\n                            setStop(true)\n                        }else {\n                            isEnd.current = true;\n                        }\n                        data.index = 0;\n                    }\n                    setData({...data});\n                }\n\n                onEnd(n, {...data});\n            },50)\n        }\n    },[])\n\n    const next = useCallback((onEnd:(x:any,y:any)=>void)=>{\n        console.log('Bubble next',isStop.current)\n        _next(onEnd)\n    },[_next])\n\n    const setStop = useCallback((v:boolean)=>{\n        console.log('Bubble setStop',isStop.current)\n        isStop.current = v;\n    },[]);\n\n    return {\n        data,\n        next,\n        setStop\n    };\n}\n\n","import React, {useCallback, useState} from 'react';\nimport {useAnimationData} from '../hooks/animation'\nimport {useSelectSort} from '../hooks/useSelectSort'\n\nfunction SelectSort() {\n    const [arr,setArr] = useState([3,2,6,8,7,9,1,4,5]);\n    const toRight = useAnimationData(0,10)\n    const toLeft = useAnimationData(0,-10)\n    const {\n        data,\n        setStop,\n        next\n    } = useSelectSort(arr);\n    const { index:activeIndex, lock, } = data;\n    const startS = useCallback(()=>{\n        next((n:any, d:any)=>{\n            if(d.exchange){\n                console.log(d)\n                const xd = d.index - d.lock;\n                const initPositionL = toLeft.start((x: number)=>{\n                    setArr([...d.data])\n                    initPositionL();\n                    initPositionR();\n                    n(startS)\n                },(x:number)=> {\n                    console.log('-----',x);\n                    return x === -70*xd\n                })\n                const initPositionR = toRight.start((x: number)=>{\n\n                },(x:number)=> x === 70*xd)\n            }else {\n                n(startS)\n            }\n        })\n    },[data.index,data.exchange,...data.data])\n    const s = useCallback(()=>{\n        setStop(false);\n        startS();\n    },[])\n    return (\n        <div>\n            <h2>选择排序</h2>\n            <div\n                style={{\n                    display: 'flex',\n                    alignItems: 'flex-end'\n                }}\n            >\n                {arr.map((h,i)=>{\n                    return <div style={{\n                        width: '50px',\n                        height: h * 20,\n                        background: i < lock ? 'green': i === lock ? 'red': i === activeIndex ? 'yellow' : \"#333\",\n                        transform: i === activeIndex ? `translateX(${toLeft.data}px)`:i === lock ? `translateX(${toRight.data}px)`:`translateX(0px)`,\n                        margin: '0 10px',\n                        float: \"left\"\n                    }}>\n                        {/*<div>h: {h}</div>*/}\n                        <div>{lock}-{activeIndex}-{i}</div>\n                    </div>\n                })}\n            </div>\n            <div onClick={()=>{setStop(true)}}>stop</div>\n            <div onClick={s}>start</div>\n        </div>\n    );\n}\n\nexport default SelectSort;\n","import {useCallback, useMemo, useRef, useState} from \"react\";\n\nexport const useSelectSort = (arr: number[])=>{\n    const isStop = useRef(true);\n    const isEnd = useRef(true);\n    const [data,setData] = useState({\n        index: 1,\n        lock: 0,\n        data: [...arr],\n        exchange: false\n    });\n\n    const _next = useMemo(()=>{\n        let isStart = false;\n        const setIsStart = (v:boolean)=>{isStart = v};\n        const n = (call:any)=>{\n            setIsStart(false);\n            call();\n        }\n        return (onEnd:(x:any,y:any)=>void)=>{\n            console.log(isStop.current,'-----------------');\n            if(isStart || isStop.current) return;\n            setIsStart(true);\n            setTimeout(()=>{\n                if(data.data[data.lock] > data.data[data.index]){\n                    console.log('交换');\n                    isEnd.current = false;\n                    //开始数据交换\n                    let t = data.data[data.lock];\n                    data.data[data.lock] = data.data[data.index];\n                    data.data[data.index] = t;\n                    data.exchange = true;\n                    setData({...data});\n                    //交换结束，停止排序，等待回调结束\n                }else {\n                    console.log('前进');\n                    //不交换，向前移动\n                    data.exchange = false;\n                    data.index++;\n                    if(data.index === arr.length){\n                        data.lock++;\n                        if(data.lock === arr.length - 1){\n                            isStop.current = true;\n                            data.lock++;\n\n                        }else {\n                            data.index = data.lock + 1;\n                        }\n\n                    }\n                    setData({...data});\n                }\n\n                onEnd(n, {...data});\n            },50)\n        }\n    },[])\n\n    const next = useCallback((onEnd:(x:any,y:any)=>void)=>{\n        console.log('Bubble next',isStop.current)\n        _next(onEnd)\n    },[_next])\n\n    const setStop = useCallback((v:boolean)=>{\n        console.log('Bubble setStop',isStop.current)\n        isStop.current = v;\n    },[]);\n\n    return {\n        data,\n        next,\n        setStop\n    };\n}\n\n","import React, {useCallback, useState} from 'react';\nimport {useAnimationData} from '../hooks/animation'\nimport {useInsertionSort} from '../hooks/useInsertionSort'\n\nfunction InsertionSort() {\n    const [arr,setArr] = useState([3,2,6,8,7,9,1,4,5]);\n    const toRight = useAnimationData(0,10)\n    const toLeft = useAnimationData(0,-10)\n    const {\n        data,\n        setStop,\n        next\n    } = useInsertionSort(arr);\n    const { index:activeIndex, lock, } = data;\n    const startS = useCallback(()=>{\n        next((n:any, d:any)=>{\n            if(d.exchange){\n                console.log(d)\n                const xd = d.lock - d.index;\n                const initPositionL = toLeft.start((x: number)=>{\n                    setArr([...d.data])\n                    initPositionR();\n                    initPositionL();\n                    n(startS)\n                },(x:number)=> {\n                    console.log('-----',x);\n                    return x === -70*xd\n                })\n                const initPositionR = toRight.start((x: number)=>{\n\n                },(x:number)=> x === 70)\n            }else {\n                n(startS)\n            }\n        })\n    },[data.index,data.exchange,...data.data])\n    const s = useCallback(()=>{\n        setStop(false);\n        startS();\n    },[])\n    return (\n        <div>\n            <h2>插入排序</h2>\n            <div\n                style={{\n                    display: 'flex',\n                    alignItems: 'flex-end'\n                }}\n            >\n                {arr.map((h,i)=>{\n                    return <div style={{\n                        width: '50px',\n                        height: h * 20,\n                        background: i < lock && i !==activeIndex ? 'green': i === lock ? 'red': i === activeIndex ? 'yellow' : \"#333\",\n                        transform: i >= activeIndex && i < lock ? `translateX(${toRight.data}px)`:i === lock ? `translateX(${toLeft.data}px)`:`translateX(0px)`,\n                        margin: '0 10px',\n                        float: \"left\"\n                    }}>\n                        {/*<div>h: {h}</div>*/}\n                        <div>{lock}-{activeIndex}-{i}</div>\n                    </div>\n                })}\n            </div>\n            <div onClick={()=>{setStop(true)}}>stop</div>\n            <div onClick={s}>start</div>\n        </div>\n    );\n}\n\nexport default InsertionSort;\n","import {useCallback, useMemo, useRef, useState} from \"react\";\n\nexport const useInsertionSort = (arr: number[])=>{\n    const isStop = useRef(true);\n    const isEnd = useRef(true);\n    const [data,setData] = useState({\n        index: 0,\n        lock: 1,\n        data: [...arr],\n        exchange: false\n    });\n\n    const _next = useMemo(()=>{\n        let isStart = false;\n        const setIsStart = (v:boolean)=>{isStart = v};\n        const n = (call:any)=>{\n            setIsStart(false);\n            call();\n        }\n        return (onEnd:(x:any,y:any)=>void)=>{\n            console.log(isStop.current,'-----------------');\n            if(isStart || isStop.current) return;\n            setIsStart(true);\n            setTimeout(()=>{\n                if(data.lock === arr.length){\n                    isStop.current = false;\n                    return\n                }\n                if(data.data[data.lock] >= data.data[data.index]){\n                    console.log('前进');\n                    //不交换，向后移动\n                    data.exchange = false;\n                    data.index++;\n                    if(data.index === data.lock){\n                        data.lock++;\n                        data.index = 0\n                    }\n                    setData({...data});\n                }else {\n                    console.log('插入');\n                    isEnd.current = false;\n                    //开始数据交换\n                    let t = data.data[data.lock];\n                    for (let i = data.lock;i >= data.index;i--){\n                        data.data[i] = data.data[i - 1]\n                    }\n                    console.log('oooooo',JSON.stringify(data.data),data.lock,data.index);\n                    data.data[data.index] = t;\n                    data.exchange = true;\n                    setData({...data});\n                    //交换结束，停止排序，等待回调结束\n                }\n\n                onEnd(n, {...data});\n            },50)\n        }\n    },[])\n\n    const next = useCallback((onEnd:(x:any,y:any)=>void)=>{\n        console.log('Bubble next',isStop.current)\n        _next(onEnd)\n    },[_next])\n\n    const setStop = useCallback((v:boolean)=>{\n        console.log('Bubble setStop',isStop.current)\n        isStop.current = v;\n    },[]);\n\n    return {\n        data,\n        next,\n        setStop\n    };\n}\n\n","import React from 'react';\nimport BubbleSort from \"./components/BubbleSort\";\nimport SelectSort from \"./components/SelectSort\";\nimport InsertionSort from \"./components/InsertionSort\";\n\nfunction App() {\n  return (\n    <div\n        style={{\n            width:1000,\n            margin: '0 auto'\n        }}\n    >\n        <BubbleSort />\n        <SelectSort />\n        <InsertionSort />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}